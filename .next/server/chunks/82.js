exports.id=82,exports.ids=[82],exports.modules={1089:()=>{},21149:(a,b,c)=>{"use strict";c.d(b,{BT:()=>j,Wu:()=>k,ZB:()=>i,Zp:()=>g,aR:()=>h});var d=c(28069),e=c(83616),f=c(31932);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...b}));g.displayName="Card";let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));h.displayName="CardHeader";let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("h3",{ref:c,className:(0,f.cn)("text-2xl font-semibold leading-none tracking-tight",a),...b}));i.displayName="CardTitle";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("p",{ref:c,className:(0,f.cn)("text-sm text-muted-foreground",a),...b}));j.displayName="CardDescription";let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));k.displayName="CardContent",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b})).displayName="CardFooter"},31932:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(20406),e=c(90479);function f(...a){return(0,e.QP)((0,d.$)(a))}},32636:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,72811,23)),Promise.resolve().then(c.t.bind(c,89674,23)),Promise.resolve().then(c.t.bind(c,87564,23)),Promise.resolve().then(c.t.bind(c,64851,23)),Promise.resolve().then(c.t.bind(c,62051,23)),Promise.resolve().then(c.t.bind(c,26891,23)),Promise.resolve().then(c.t.bind(c,5947,23)),Promise.resolve().then(c.t.bind(c,8477,23)),Promise.resolve().then(c.t.bind(c,36819,23))},34788:(a,b,c)=>{"use strict";c.d(b,{SupabaseProvider:()=>d});let d=(0,c(88935).registerClientReference)(function(){throw Error("Attempted to call SupabaseProvider() from the server but SupabaseProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\reactdash\\dash-drizzle\\src\\lib\\supabase\\provider.tsx","SupabaseProvider")},42364:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,71141,23)),Promise.resolve().then(c.t.bind(c,21980,23)),Promise.resolve().then(c.t.bind(c,19474,23)),Promise.resolve().then(c.t.bind(c,26981,23)),Promise.resolve().then(c.t.bind(c,83457,23)),Promise.resolve().then(c.t.bind(c,38841,23)),Promise.resolve().then(c.t.bind(c,14801,23)),Promise.resolve().then(c.t.bind(c,80515,23)),Promise.resolve().then(c.bind(c,88014))},45590:()=>{},49477:(a,b,c)=>{Promise.resolve().then(c.bind(c,60443))},50732:(a,b,c)=>{Promise.resolve().then(c.bind(c,53373))},52367:()=>{},52456:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(88935).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\reactdash\\\\dash-drizzle\\\\src\\\\app\\\\dashboard\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\reactdash\\dash-drizzle\\src\\app\\dashboard\\layout.tsx","default")},53373:(a,b,c)=>{"use strict";c.d(b,{SupabaseProvider:()=>i});var d=c(28069),e=c(38931),f=c(91540),g=c(83616),h=c(43871);function i({children:a}){let[b]=(0,g.useState)(()=>(0,e.createClientComponentClient)());return(0,h.useRouter)(),(0,d.jsx)(f.SessionContextProvider,{supabaseClient:b,children:a})}},55557:(a,b,c)=>{Promise.resolve().then(c.bind(c,52456))},60443:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>v});var d=c(28069),e=c(83616),f=c(31932),g=c(57868);let h=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(g.bL,{ref:e,className:(0,f.cn)("relative overflow-hidden",a),...c,children:[(0,d.jsx)(g.LM,{className:"h-full w-full rounded-[inherit]",children:b}),(0,d.jsx)(i,{}),(0,d.jsx)(g.OK,{})]}));h.displayName=g.bL.displayName;let i=e.forwardRef(({className:a,orientation:b="vertical",...c},e)=>(0,d.jsx)(g.VM,{ref:e,orientation:b,className:(0,f.cn)("flex touch-none select-none transition-colors","vertical"===b&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===b&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...c,children:(0,d.jsx)(g.lr,{className:"relative flex-1 rounded-full bg-border"})}));i.displayName=g.VM.displayName;var j=c(54596),k=c(52613),l=c(73947),m=c(1772),n=c(30790),o=c(44893),p=c(94712),q=c.n(p),r=c(43871),s=c(75401);let t=[{name:"لوحة التحكم",href:"/dashboard",icon:j.A,roles:["owner","accountant","manager"]},{name:"المعارض",href:"/dashboard/showrooms",icon:k.A,roles:["owner","accountant"]},{name:"إضافة معرض",href:"/dashboard/showrooms/new",icon:l.A,roles:["owner"]},{name:"الموظفون",href:"/dashboard/employees",icon:m.A,roles:["owner","accountant"]},{name:"إضافة موظف",href:"/dashboard/employees/new",icon:n.A,roles:["owner","accountant"]},{name:"المعاملات ",href:"/dashboard/transactions",icon:o.A,roles:["owner","accountant"]}];function u({className:a}){let b=(0,r.usePathname)(),{user:c}=(0,s.n)(),[g,i]=(0,e.useState)(!1);if(!c||!["owner","accountant"].includes(c.role.trim().toLowerCase()))return null;let j=t.filter(a=>c&&["owner","accountant"].includes(c.role)&&a.roles.includes(c.role));return(0,d.jsxs)(d.Fragment,{children:[!g&&(0,d.jsx)("button",{onClick:()=>i(!0),"aria-label":"فتح القائمة",className:"fixed top-3 left-3 z-50 md:hidden",children:(0,d.jsxs)("div",{className:"relative group",children:[(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center w-10 h-10 rounded-full bg-red-500/90 hover:bg-red-600 transition-all duration-200 shadow-md group-hover:shadow-lg",children:[(0,d.jsx)("span",{className:"block w-5 h-0.5 bg-white mb-1.5 transition-all duration-200 transform group-hover:translate-y-1 group-hover:rotate-45 origin-center"}),(0,d.jsx)("span",{className:"block w-5 h-0.5 bg-white mb-1.5 transition-all duration-100 opacity-100 group-hover:opacity-0"}),(0,d.jsx)("span",{className:"block w-5 h-0.5 bg-white transition-all duration-200 transform group-hover:-translate-y-1 group-hover:-rotate-45 origin-center"})]}),(0,d.jsx)("div",{className:"absolute inset-0 rounded-full bg-red-400/30 animate-ping opacity-0 group-hover:opacity-0 transition-opacity duration-700"})]})}),(0,d.jsxs)("div",{className:(0,f.cn)("fixed top-0 right-0 h-full w-64 bg-card border-l border-gray-200 shadow-md transform transition-transform duration-300 ease-in-out z-40",a,g?"translate-x-0":"translate-x-full","md:relative md:translate-x-0 md:block"),children:[g&&(0,d.jsx)("div",{className:"flex justify-end p-4 md:hidden",children:(0,d.jsxs)("button",{onClick:()=>i(!1),"aria-label":"إغلاق القائمة",className:"group relative p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500/50 transition-all duration-300",children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-red-500/10 dark:bg-red-900/40 rounded-md    opacity-0 group-hover:opacity-100 transition-opacity duration-300   group-active:scale-95 group-active:bg-red-500/20"}),(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-600 dark:text-red-400    group-hover:text-red-700 dark:group-hover:text-red-300    group-hover:scale-110 group-active:scale-95   transition-all duration-300 transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),(0,d.jsx)("span",{className:"absolute inset-0 rounded-md overflow-hidden",children:(0,d.jsx)("span",{className:"absolute inset-0 bg-red-500 opacity-0 group-active:opacity-20 group-active:animate-ripple transition-all duration-700"})})]})}),(0,d.jsx)("div",{className:"space-y-4 py-4",children:(0,d.jsx)("div",{className:"px-3 py-2",children:(0,d.jsx)(h,{className:"h-[calc(100vh-8rem)]",children:(0,d.jsx)("div",{className:"space-y-1",children:j.map(a=>(0,d.jsxs)(q(),{href:a.href,className:(0,f.cn)("group flex flex-row-reverse items-center rounded-md px-3 py-2 text-sm font-medium transition-colors",b===a.href?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),onClick:()=>i(!1),children:[(0,d.jsx)(a.icon,{className:"ml-2 h-4 w-4"}),(0,d.jsx)("span",{className:"mr-2",children:a.name})]},a.name))})})})})]})]})}function v({children:a}){return(0,d.jsxs)("div",{className:"flex flex-row-reverse min-h-screen",children:[(0,d.jsx)(u,{}),(0,d.jsx)("main",{className:"flex-1 p-4  flex-row-reverse min-h-screen ",children:a})]})}},63884:(a,b,c)=>{Promise.resolve().then(c.bind(c,34788))},75401:(a,b,c)=>{"use strict";c.d(b,{n:()=>g});var d=c(91448),e=c(13786),f=c(38931);let g=(0,d.v)()((0,e.Zr)(a=>{let b=(0,f.createClientComponentClient)();return{user:null,isAuthenticated:!1,isLoading:!1,login:async(c,d)=>{a({isLoading:!0});try{if("string"!=typeof c||"string"!=typeof d)throw Error("Email and password must be strings");let{data:e,error:f}=await b.auth.signInWithPassword({email:c.trim(),password:d.trim()});if(f)throw f;if(!e.user)throw Error("User not found after login");let{data:g,error:h}=await b.from("users").select("name, role").eq("auth_user_id",e.user.id).single();if(h)throw h;a({user:{id:e.user.id,email:e.user.email||c,name:g?.name||"",role:g?.role||"employee"},isAuthenticated:!0,isLoading:!1})}catch(b){throw a({isLoading:!1}),console.error("Login error:",b),b}},logout:async()=>{a({isLoading:!0});try{await b.auth.signOut()}finally{a({user:null,isAuthenticated:!1,isLoading:!1})}},checkAuth:async()=>{a({isLoading:!0});try{let{data:{session:c}}=await b.auth.getSession();if(c?.user){let{data:d,error:e}=await b.from("users").select("name, role").eq("auth_user_id",c.user.id).single();if(e||!d)throw e;a({user:{id:c.user.id,email:c.user.email??"",name:d.name??"",role:d.role??"employee"},isAuthenticated:!0,isLoading:!1})}else a({user:null,isAuthenticated:!1,isLoading:!1})}catch(b){console.error("checkAuth error:",b),a({user:null,isAuthenticated:!1,isLoading:!1})}}}},{name:"auth-storage"}))},76799:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>i,metadata:()=>h});var d=c(49271);c(1089);var e=c(16699),f=c.n(e),g=c(34788);let h={title:"نظام إدارة المعارض",description:"تطبيق داخلي لإدارة الموظفين والمعارض"};function i({children:a}){return(0,d.jsx)("html",{lang:"ar",suppressHydrationWarning:!0,children:(0,d.jsx)("body",{className:f().className,children:(0,d.jsx)(g.SupabaseProvider,{children:a})})})}}};